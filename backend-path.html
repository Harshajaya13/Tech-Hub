<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Frontend Reality Check</title>
    <link rel="stylesheet" href="clarity.css">
</head>
<body>

    <div class="gauntlet-wrapper">
        
        <div class="progress-container">
            <span id="step-counter">Phase 1 of 3</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div id="card-stack">

   <div class="question-card active" data-step="1">
    <h2>1. The Foundation</h2>
    <p>You are building a social network. How do you start?</p>
    
    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>The Look</h3>
                <p>Find a cool template for the User Profile page.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>The Data</h3>
                <p>Draw an ER Diagram to define the relationship between Users, Posts, and Comments.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="2">
    <h2>2. The Input</h2>
    <p>A user tries to log in. Instead of a password, they type: `' OR '1'='1`.</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Confusion</h3>
                <p>"Why would they type that? I'll just delete their account."</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>SQL Injection</h3>
                <p>I need to sanitize all inputs and use Parameterized Queries immediately.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="3">
    <h2>3. The Request</h2>
    <p> The Frontend team asks: "Can you send us the user's data?"</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Send It All</h3>
                <p>Sure, `SELECT * FROM users`. Here is everything including their password hash.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>The DTO</h3>
                <p>I'll create a specific Response Object that only sends public info (Name, Avatar).</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="4">
    <h2>4. The Slowdown</h2>
    <p>Searching for a user takes 5 seconds because you have 1 million users.</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Visual Trick</h3>
                <p>Tell the frontend to show a "Loading..." spinner so it doesn't look broken.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>Indexing</h3>
                <p>I need to add a Database Index on the 'username' column to optimize the query.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="5">
    <h2>5. Keeping Secrets</h2>
    <p>You need to store user passwords securely.</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Spreadsheet Style</h3>
                <p>Save them in the database column exactly as they typed it so I can see them.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>Hashing</h3>
                <p>Never store plain text. Use bcrypt to hash and salt the passwords.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="6">
    <h2>6. The Payment</h2>
    <p>You need to charge a credit card. The Stripe API documentation is complex.</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Avoidance</h3>
                <p>"Can't we just ask them to PayPal us the money manually?"</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>Webhooks</h3>
                <p>I need to set up a webhook listener to confirm when the payment actually succeeds.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="7">
    <h2>7. The Crash</h2>
    <p>Your server crashed because too many people uploaded images at the same time.</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Restart</h3>
                <p>Turn the server off and on again. Hope it doesn't happen tomorrow.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>The Queue</h3>
                <p>Offload the image processing to a background Job Queue (like Redis/RabbitMQ).</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" data-step="8">
    <h2>8. The Invisible Error</h2>
    <p>Something is breaking, but there is no UI to look at. Just a "500 Internal Server Error".</p>

    <div class="options-stack">
        <div class="choice-card choice-design" onclick="handleChoice('fail')">
            <div class="choice-content">
                <h3>Guesswork</h3>
                <p>Randomly change code until the error code goes away.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>

        <div class="choice-card choice-code" onclick="handleChoice('next')">
            <div class="choice-content">
                <h3>The Logs</h3>
                <p>SSH into the server and grep the application logs to find the stack trace.</p>
            </div>
            <div class="arrow-icon">→</div>
        </div>
    </div>
</div>

<div class="question-card" id="fail-card">
    <div class="pivot-content">
        <h2 style="color: var(--accent-gold)">Wait... A Discovery!</h2>
        <p>You chose the visual or "easy" solution every time. You hated the abstract data logic.</p>
        <p><strong>This is good news.</strong> You likely belong on the <strong>Frontend</strong>.</p>
        <p>You want to see what you build immediately. You care about the user interface, not the invisible plumbing.</p>
        <button onclick="window.location.href='frontend-path.html'">Explore Frontend Dev</button>
    </div>
</div>

        </div>

        <div class="nav-controls">
            <button class="btn-back" id="back-btn" onclick="prevStep()">← Previous</button>
        </div>

    </div>

    <script src="clarity.js"></script>
</body>
</html>